目前先大致看一遍这个书，然后用到的时候在进行记录、查阅。



让redis在指定的端口运行，指定配置文件

## redis-cli

一些运维相关的知识确实是必不可少的。

redis-cli有相关的命令来修改redis-server。

```bash
redis-cli -h -p -a
```



redis-server主要配置全在redis.conf文件里面写着。



## 持久化



## 复制

配置redis主从复制，主从节点。



## redis-sentinel

Redis Sentinel是用于实现Redis高可用的解决方案，通过监控Redis主节点的状态来实现自动故障转移和自动恢复。当Redis主节点发生故障时，Sentinel会选举一个新的主节点，并将其从节点提升为主节点，从而实现自动故障转移。另外，Sentinel还支持多节点的Redis部署，可以对多个Redis节点进行监控和管理，从而提高Redis系统的可用性。

这个sentinel给我的感觉就是一个提供redis高可用的中间件，就像rpc里面的服务配置中心一样。我们的redis客户端先提供访问sentinel获取redis节点的配置信息，然后进行对redis节点的访问。

## redis-cluster

Redis Cluster是用于实现Redis分布式的解决方案，它支持在多个节点之间自动分片和数据复制，从而实现高可用和扩展性。Redis Cluster将所有数据分成多个槽位，每个槽位由一个或多个节点负责维护。当一个节点发生故障时，它的槽位会被其他节点接管，从而保证Redis系统的可用性。另外，Redis Cluster还支持自动数据复制和节点扩展，可以动态地添加或删除节点，从而提高Redis系统的可扩展性。

> 这里的槽位slot就是通过hash计算的slot值，因为redis采用的是hash分区。

## 高可用与分布式

**分布式系统这一块的知识需要补充一下！**

高可用是指系统在遇到故障时，能够保持不间断地运行。分布式是指将一个系统分成多个子系统进行处理，每个子系统运行在不同的节点上。高可用和分布式是两个不同的概念，但分布式系统通常需要具备高可用性。因此，分布式属于高可用的范畴。Redis的Sentinel和Cluster都可以实现高可用和分布式，但它们分别从不同的角度入手，针对不同的场景进行优化。

高可用和分布式通常是密不可分的概念，因为分布式系统需要具备高可用性。在分布式系统中，数据和计算任务通常是分布在多个节点上的，这就涉及到数据的一致性和节点的故障容错处理，以确保整个系统的可用性和稳定性。因此，分布式系统通常需要具备高可用性，而高可用系统也通常是通过分布式技术实现的，例如通过多节点备份和容错来确保系统的可靠性和连续性。在实际应用中，高可用和分布式通常是同时考虑的，需要在系统设计和实现中统一考虑和处理。（分布式必然涉及到的就是多个节点之间的配合coordinate完成某一项工作，单纯的单机多实例部署比如我的集群聊天，不能称之为分布式）

**还是不了解分布式究竟要解决什么问题！**

